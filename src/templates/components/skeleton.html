{#
Skeleton Component - Loading placeholders
Usage:
  {% from "components/skeleton.html" import skeleton, skeleton_card %}
  {{ skeleton('text', width='200px') }}
  {{ skeleton('circle', size='40px') }}

Parameters:
  - type: text|heading|circle|rect (default: 'text')
  - width: Width (optional, default varies by type)
  - height: Height (optional, default varies by type)
  - size: Size for circle (optional)
  - class: Additional CSS classes (optional)
#}

{% macro skeleton(type='text', width='', height='', size='', class='') %}
  <div class="skeleton skeleton--{{ type }} {{ class }}"
       {% if width %}style="width: {{ width }}; {% if height %}height: {{ height }};{% endif %}"{% endif %}
       {% if size and type == 'circle' %}style="width: {{ size }}; height: {{ size }};"{% endif %}
       aria-hidden="true">
  </div>
{% endmacro %}

{# Skeleton card for resource loading states #}
{% macro skeleton_card() %}
  <div class="card" aria-busy="true">
    <div class="card__body">
      {{ skeleton('rect', width='100%', height='150px') }}
      <div class="mt-3">
        {{ skeleton('heading', width='80%') }}
        {{ skeleton('text', width='100%') }}
        {{ skeleton('text', width='60%') }}
      </div>
    </div>
  </div>
{% endmacro %}

{# Skeleton table row #}
{% macro skeleton_table_row(columns=3) %}
  <tr class="table__row" aria-busy="true">
    {% for i in range(columns) %}
      <td class="table__cell">
        {{ skeleton('text', width='80%') }}
      </td>
    {% endfor %}
  </tr>
{% endmacro %}
