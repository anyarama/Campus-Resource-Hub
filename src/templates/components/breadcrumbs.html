{#
Breadcrumbs Component
Usage:
  {% from "components/breadcrumbs.html" import breadcrumbs %}
  {{ breadcrumbs([
      {'text': 'Home', 'url': '/'},
      {'text': 'Resources', 'url': '/resources'},
      {'text': 'Study Rooms'}
  ]) }}

Parameters:
  - items: List of dicts with 'text' and optional 'url' keys (required)
           Last item is current page (no url)
  - class: Additional CSS classes (optional)
#}

{% macro breadcrumbs(items, class='') %}
  <nav aria-label="Breadcrumb" class="breadcrumbs {{ class }}">
    <ol class="breadcrumbs__list">
      {% for item in items %}
        <li class="breadcrumbs__item {% if loop.last %}breadcrumbs__item--current{% endif %}">
          {% if item.get('url') and not loop.last %}
            <a href="{{ item.url }}" class="breadcrumbs__link">{{ item.text }}</a>
          {% else %}
            <span {% if loop.last %}aria-current="page"{% endif %}>{{ item.text }}</span>
          {% endif %}
          {% if not loop.last %}
            <i class="breadcrumbs__separator fas fa-chevron-right" aria-hidden="true"></i>
          {% endif %}
        </li>
      {% endfor %}
    </ol>
  </nav>
{% endmacro %}
