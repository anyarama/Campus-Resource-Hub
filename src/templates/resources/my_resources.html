{% extends "base.html" %}
{% block title %}My Resources - Campus Resource Hub{% endblock %}{% block content %}<div class="layout-grid">
    <div class="layout-col" data-col="12">
      <h1 class="display-5"><i class="bi bi-collection icon"></i> My Resources</h1>
      <p class="text-dim">Manage and track all your listed resources</p>
    </div>
    <div class="layout-col text-md-end" data-col="12">
      </div></div>{{ url_for('resources.create') }}" class="btn btn-primary">
        <i class="bi bi-plus-circle icon"></i> Create New Resource
      
    
  

  {% if resources and resources|length > 0 %}<div class="layout-grid">
    <div class="layout-col" data-col="12">
      <div class="card">
        <div class="card-body">
          <div class="stat-icon">
            <i class="bi bi-collection text-primary icon" style="font-size: 2rem;"></i>
          </div>
          <h3 class="space-b-0"></h3></div></div></div></div>{{ resources|length }}<p class="text-dim small">Total Resources</p>
        
      
    
    <div class="layout-col" data-col="12">
      <div class="card">
        <div class="card-body">
          <div class="stat-icon">
            <i class="bi bi-check-circle icon" style="font-size: 2rem;"></i>
          </div>
          <h3 class="space-b-0"></h3></div></div></div>{{ resources|selectattr('status', 'equalto', 'published')|list|length }}<p class="text-dim small">Published</p>
        
      
    
    <div class="layout-col" data-col="12">
      <div class="card">
        <div class="card-body">
          <div class="stat-icon">
            <i class="bi bi-file-earmark text-secondary icon" style="font-size: 2rem;"></i>
          </div>
          <h3 class="space-b-0"></h3></div></div></div>{{ resources|selectattr('status', 'equalto', 'draft')|list|length }}<p class="text-dim small">Drafts</p>
        
      
    
    <div class="layout-col" data-col="12">
      <div class="card">
        <div class="card-body">
          <div class="stat-icon">
            <i class="bi bi-archive icon" style="font-size: 2rem;"></i>
          </div>
          <h3 class="space-b-0"></h3></div></div></div>{{ resources|selectattr('status', 'equalto', 'archived')|list|length }}<p class="text-dim small">Archived</p>
        
      
    
  

  {% set published_resources = resources|selectattr('status', 'equalto', 'published')|list %}
  {% set draft_resources = resources|selectattr('status', 'equalto', 'draft')|list %}
  {% set archived_resources = resources|selectattr('status', 'equalto', 'archived')|list %}

  <div class="resource-tabs" data-tabs>
    <ul class="nav nav-tabs" id="resourceTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active btn btn--primary"
                data-tab-trigger="resources-tab-all"
                aria-controls="resources-tab-all"
                aria-selected="true"
                id="all-tab"
                type="button">
          All ({{ resources|length }})
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link btn btn--primary"
                data-tab-trigger="resources-tab-published"
                aria-controls="resources-tab-published"
                aria-selected="false"
                id="published-tab"
                type="button">
          Published ({{ published_resources|length }})
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link btn btn--primary"
                data-tab-trigger="resources-tab-draft"
                aria-controls="resources-tab-draft"
                aria-selected="false"
                id="draft-tab"
                type="button">
          Drafts ({{ draft_resources|length }})
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link btn btn--primary"
                data-tab-trigger="resources-tab-archived"
                aria-controls="resources-tab-archived"
                aria-selected="false"
                id="archived-tab"
                type="button">
          Archived ({{ archived_resources|length }})
        </button>
      </li>
    </ul>

    <div class="tab-content" id="resourceTabContent">
      <div class="tab-pane fade show active" id="resources-tab-all" role="tabpanel">
        {% for resource in resources %}
          {% include 'resources/_resource_card.html' %}
        {% endfor %}
      </div>

      <div class="tab-pane fade" id="resources-tab-published" role="tabpanel" hidden>
        {% if published_resources %}
          {% for resource in published_resources %}
            {% include 'resources/_resource_card.html' %}
          {% endfor %}
        {% else %}
          <div class="text-center">
            <i class="bi bi-inbox icon" style="font-size: 3rem; color: var(--brand-600);"></i>
            <p class="text-dim">No published resources yet.</p>
            <a href="{{ url_for('resources.create') }}" class="btn btn-primary">Create Your First Resource</a>
          </div>
        {% endif %}
      </div>

      <div class="tab-pane fade" id="resources-tab-draft" role="tabpanel" hidden>
        {% if draft_resources %}
          {% for resource in draft_resources %}
            {% include 'resources/_resource_card.html' %}
          {% endfor %}
        {% else %}
          <div class="text-center">
            <i class="bi bi-inbox icon" style="font-size: 3rem; color: var(--brand-600);"></i>
            <p class="text-dim">No draft resources.</p>
          </div>
        {% endif %}
      </div>

      <div class="tab-pane fade" id="resources-tab-archived" role="tabpanel" hidden>
        {% if archived_resources %}
          {% for resource in archived_resources %}
            {% include 'resources/_resource_card.html' %}
          {% endfor %}
        {% else %}
          <div class="text-center">
            <i class="bi bi-inbox icon" style="font-size: 3rem; color: var(--brand-600);"></i>
            <p class="text-dim">No archived resources.</p>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
  {% else %}<div class="layout-grid">
    <div class="layout-col mx-auto" data-col-lg="6">
      <div class="card">
        <div class="card-body">
          <i class="bi bi-collection icon" style="font-size: 5rem; color: var(--brand-600);"></i>
          <h3 class="space-t-4">No Resources Yet</h3>
          <p class="text-dim">
            Get started by creating your first resource. Share study spaces, equipment, 
            or any campus resource with the community.
          </p>
          </div></div></div></div>{{ url_for('resources.create') }}" class="btn btn-primary">
            <i class="bi bi-plus-circle icon"></i> Create Your First Resource
          
        
      

       Tips Card 
      <div class="card">
        <div class="card-body">
          <h6 class="card-title"><i class="bi bi-lightbulb icon"></i> What can I share?</h6>
          <ul class="space-b-0">
            <li>Study rooms and collaboration spaces</li>
            <li>Technology and equipment (laptops, projectors, cameras)</li>
            <li>Lab instruments and workshop tools</li>
            <li>Event spaces for meetings and gatherings</li>
            <li>Tutoring time and mentoring sessions</li>
            <li>Sports facilities and recreational equipment</li>
          </ul>
        </div>
      </div>
    
  
  {% endif %}{% macro resource_card(resource) %}<div class="card resource-card">
  <div class="card-body">
    <div class="layout-grid">
      <div class="layout-col" data-col="12">
        <div class="flex items-start">
          <div class="flex-1">
            <h5 class="card-title">
              </h5></div></div></div></div></div></div>{{ url_for('resources.detail', resource_id=resource.resource_id) }}" class="text-decoration-none">
                {{ resource.title }}<p class="card-text small">
              </p>{{ resource.description[:150] }}{% if resource.description|length > 150 %}...{% endif %}<div class="flex flex-wrap gap-2">
              <span class="badge badge-light text-dark border">
                <i class="bi bi-tag icon"></i> </span></div>{{ resource.category or 'Uncategorized' }}<span class="badge badge-light text-dark border">
                <i class="bi bi-geo-alt icon"></i> </span>{{ resource.location }}{% if resource.capacity %}<span class="badge badge-light text-dark border">
                <i class="bi bi-people icon"></i> </span>{{ resource.capacity }}{% endif %}{% if resource.status == 'draft' %}bg-secondary
                {% elif resource.status == 'published' %}bg-success
                {% else %}bg-warning{% endif %}">
                {{ resource.status|upper }}<div class="layout-col text-md-end mt-md-0" data-col="12">
        <div class="btn-group-vertical gap-2" role="group">
          </div></div>{{ url_for('resources.detail', resource_id=resource.resource_id) }}" 
            class="btn btn-outline">
            <i class="bi bi-eye icon"></i> View
          
          {{ url_for('resources.edit', resource_id=resource.resource_id) }}" 
            class="btn btn-ghost">
            <i class="bi bi-pencil icon"></i> Edit
          
          {% if resource.status == 'draft' %}{{ url_for('resources.publish', resource_id=resource.resource_id) }}" class="d-inline">
            {{ csrf_token() }}">
            <button class="btn btn-success btn--primary" type="submit">
              <i class="bi bi-check-circle icon"></i> Publish
            </button>
          
          {% elif resource.status == 'published' %}{{ url_for('resources.archive', resource_id=resource.resource_id) }}" class="d-inline">
            {{ csrf_token() }}">
            <button class="btn btn-secondary btn--primary" type="submit">
              <i class="bi bi-archive icon"></i> Archive
            </button>
          
          {% endif %}<div class="card-footer small">
    <i class="bi bi-calendar icon"></i> Created </div>{{ resource.created_at.strftime('%b %d, %Y') if resource.created_at else 'Unknown' }}<span class="ms-3"><i class="bi bi-calendar-check icon"></i> Bookings: Coming Soon</span>
    <span class="ms-3"><i class="bi bi-star icon"></i> Rating: Coming Soon</span>
  

{% endmacro %}{% if resources %}<template id="resource-card-template">
  </template>{% for resource in resources %}{% if loop.index == 1 %}{% endif %}{% endfor %}{% endif %}{% endblock %}
