{% extends"base.html" %}{% block title %}Edit {{ resource.title }}- Campus Resource Hub{% endblock %}{% block content %}<div class="layout-grid">
    <div class="layout-col mx-auto" data-col-lg="8">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"></li></ol></nav></div></div>{{ url_for('resources.index') }}">Resources
          <li class="breadcrumb-item"></li>{{ url_for('resources.my_resources') }}">My Resources
          <li class="breadcrumb-item"></li>{{ url_for('resources.detail', resource_id=resource.resource_id) }}">{{ resource.title }}<li aria-current="page" class="breadcrumb-item active">Edit</li>
        
      
      <h1 class="display-5"><i class="bi bi-pencil"></i> Edit Resource</h1>
      <p class="text-dim">Update your resource information</p>
    
  

   Form 
  <div class="layout-grid">
    <div class="layout-col mx-auto" data-col-lg="8">
      <div class="card">
        <div class="card-body">
          </div></div></div></div>{{ url_for('resources.edit', resource_id=resource.resource_id) }}" enctype="multipart/form-data" id="editResourceForm">
            {{ csrf_token() }}">

             Title 
            <div class="space-b-4">
              <label class="form-label fw-bold" for="title">
                Resource Title <span class="text-danger">*</span>
              </label>
              </div>{{ resource.title }}"
                  placeholder="e.g., Conference Room A, MacBook Pro, 3D Printer"
                  required
                  maxlength="200"
                  autocomplete="off">
              <div class="form-text">Give your resource a clear, descriptive name</div>
            

             Category 
            <div class="space-b-4">
              <label class="form-label fw-bold" for="category">
                Category <span class="text-danger">*</span>
              </label>
              <select class="form-select" id="category" name="category" required="">
                <option value="">-- Select Category --</option>
                </select></div>{% if resource.category == 'Study Space' %}selected{% endif %}>Study Space
                {% if resource.category == 'Equipment' %}selected{% endif %}>Equipment
                {% if resource.category == 'Lab' %}selected{% endif %}>Lab / Workshop
                {% if resource.category == 'Event Space' %}selected{% endif %}>Event Space
                {% if resource.category == 'Technology' %}selected{% endif %}>Technology
                {% if resource.category == 'Tutoring' %}selected{% endif %}>Tutoring / Mentoring
                {% if resource.category == 'Sports' %}selected{% endif %}>Sports Facility
                {% if resource.category == 'Other' %}selected{% endif %}>Other
              
              <div class="form-text">Choose the category that best describes your resource</div>
            

             Description 
            <div class="space-b-4">
              <label class="form-label fw-bold" for="description">
                Description <span class="text-danger">*</span>
              </label>
              <textarea class="form-control" id="description" maxlength="2000" name="description" placeholder="Describe your resource: features, availability, rules, what makes it special..." required="" rows="5"></textarea></div>{{ resource.description }}<div class="form-text">
                <span id="charCount"></span></div>{{ resource.description|length if resource.description else 0 }}/ 2000 characters
              
            

             Location and Capacity Row 
            <div class="layout-grid">
              <div class="layout-col">
                <label class="form-label fw-bold" for="location">
                  Location <span class="text-danger">*</span>
                </label>
                </div></div>{{ resource.location }}"
                    placeholder="e.g., Building A, Room 210"
                    required
                    maxlength="200">
                <div class="form-text">Where is this resource located?</div>
              
              <div class="layout-col">
                <label class="form-label fw-bold" for="capacity">
                  Capacity (Optional)
                </label>
                </div>{{ resource.capacity if resource.capacity else '' }}"
                    placeholder="e.g., 10"
                    min="1"
                    max="999">
                <div class="form-text">How many people can use this?</div>
              
            

             Existing Images 
            {% if images and images|length > 0 %}<div class="space-b-4">
              <label class="form-label fw-bold">Current Images</label>
              <div class="layout-grid g-2">
                </div></div>{% for img in images %}<div class="layout-col">
                  <div class="existing-image-preview">
                    </div></div>{{ url_for('static', filename='uploads/' + img) }}" 
                       alt="Current image {{ loop.index }}"
                       class="img-thumbnail">
                    <div class="image-filename small"></div>{{ img }}{% endfor %}<div class="alert alert-info small">
                <i class="bi bi-info-circle"></i> To replace images, upload new ones below. Existing images will be kept if you don't upload new ones.
              </div>
            
            {% endif %}<div class="space-b-4">
              <label class="form-label fw-bold" for="images">
                </label></div>{% if images and images|length > 0 %}Replace Images (Optional)
                {% else %}Add Images (Optional)
                {% endif %}<input accept="image/jpeg,image/jpg,image/png,image/gif" class="form-control" id="images" multiple="" name="images" type="file"/>
              <div class="form-text">
                <i class="bi bi-info-circle"></i> Upload up to 5 images (JPEG, PNG, GIF). Max 2MB per image.
              </div>
              
               Image Preview 
              <div class="space-t-3 layout-grid g-2" id="imagePreview"></div>
            

             Status 
            <div class="space-b-4">
              <label class="form-label fw-bold">Publication Status</label>
              <div class="form-check">
                </div></div>{% if resource.status == 'draft' %}checked{% endif %}>
                <label class="form-check-label" for="statusDraft">
                  <strong>Draft</strong>
                  <span class="text-dim small">Not visible to other users</span>
                </label>
              
              <div class="form-check">
                </div>{% if resource.status == 'published' %}checked{% endif %}>
                <label class="form-check-label" for="statusPublished">
                  <strong>Published</strong>
                  <span class="text-dim small">Visible to all users</span>
                </label>
              
              <div class="form-check">
                </div>{% if resource.status == 'archived' %}checked{% endif %}>
                <label class="form-check-label" for="statusArchived">
                  <strong>Archived</strong>
                  <span class="text-dim small">Hidden from listing, no new bookings</span>
                </label>
              
            

             Action Buttons 
            <hr class="space-y-4"/>
            <div class="flex">
              </div>{{ url_for('resources.detail', resource_id=resource.resource_id) }}" class="btn btn-secondary">
                <i class="bi bi-arrow-left"></i> Cancel
              
              <button class="btn btn-primary" type="submit">
                <i class="bi bi-check-circle"></i> Save Changes
              </button>
            
          
        
      

       Resource Info Card 
      <div class="card">
        <div class="card-body">
          <h6 class="card-title"><i class="bi bi-info-circle"></i> Resource Information</h6>
          <ul class="space-b-0 small">
            <li><strong>Created:</strong> </li></ul></div></div>{{ resource.created_at.strftime('%B %d, %Y at %I:%M %p') if resource.created_at else 'Unknown' }}<li><strong>Resource ID:</strong> #</li>{{ resource.resource_id }}<li><strong>Current Status:</strong> 
              </li>{% if resource.status == 'draft' %}bg-secondary
                {% elif resource.status == 'published' %}bg-success
                {% else %}bg-warning{% endif %}">
                {{ resource.status|upper }}{% endblock %}