class c{constructor(){this.theme=localStorage.getItem("theme")||"light",this.init()}init(){document.documentElement.setAttribute("data-theme",this.theme),this.updateToggleButtons(),this.attachListeners()}toggle(){this.theme=this.theme==="light"?"dark":"light",localStorage.setItem("theme",this.theme),document.documentElement.setAttribute("data-theme",this.theme),this.updateToggleButtons()}updateToggleButtons(){document.querySelectorAll("[data-theme-toggle]").forEach(e=>{const t=e.querySelector(".theme-icon");t&&(t.textContent=this.theme==="light"?"ðŸŒ™":"â˜€ï¸")})}attachListeners(){document.querySelectorAll("[data-theme-toggle]").forEach(e=>{e.addEventListener("click",()=>this.toggle())})}}class d{constructor(){this.sidebar=document.querySelector(".app-sidebar"),this.overlay=document.querySelector(".sidebar-overlay"),this.toggleBtn=document.querySelector("[data-sidebar-toggle]"),this.collapsed=localStorage.getItem("sidebar-collapsed")==="true",this.init()}init(){this.sidebar&&(window.innerWidth>=1024&&this.collapsed&&this.sidebar.classList.add("sidebar-collapsed"),this.attachListeners())}toggle(){var e;window.innerWidth<1024?(this.sidebar.classList.toggle("sidebar-collapsed"),(e=this.overlay)==null||e.classList.toggle("active")):(this.collapsed=!this.collapsed,this.sidebar.classList.toggle("sidebar-collapsed"),localStorage.setItem("sidebar-collapsed",this.collapsed))}close(){var e,t;(e=this.sidebar)==null||e.classList.add("sidebar-collapsed"),(t=this.overlay)==null||t.classList.remove("active")}attachListeners(){var e,t;(e=this.toggleBtn)==null||e.addEventListener("click",()=>this.toggle()),(t=this.overlay)==null||t.addEventListener("click",()=>this.close()),window.innerWidth<1024&&document.querySelectorAll(".app-sidebar a").forEach(a=>{a.addEventListener("click",()=>this.close())})}}class h{constructor(){this.activeModal=null,this.attachListeners()}open(e){const t=document.getElementById(e);if(!t)return;this.activeModal=t,t.classList.add("modal-open"),document.body.style.overflow="hidden";const a=t.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');a==null||a.focus()}close(e=this.activeModal){e&&(e.classList.remove("modal-open"),document.body.style.overflow="",this.activeModal=null)}attachListeners(){document.addEventListener("click",e=>{const t=e.target.closest("[data-modal-open]");t&&(e.preventDefault(),this.open(t.dataset.modalOpen))}),document.addEventListener("click",e=>{const t=e.target.closest("[data-modal-close]");if(t){e.preventDefault();const a=t.closest(".modal");this.close(a)}}),document.addEventListener("click",e=>{e.target.classList.contains("modal")&&this.close(e.target)}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.activeModal&&this.close()})}}class u{constructor(){this.container=this.getOrCreateContainer()}getOrCreateContainer(){let e=document.querySelector(".toast-container");return e||(e=document.createElement("div"),e.className="toast-container",document.body.appendChild(e)),e}show(e,t="info",a=5e3){const s=document.createElement("div");s.className=`toast toast-${t}`;const r={success:"âœ“",error:"âœ•",warning:"âš ",info:"â„¹"};return s.innerHTML=`
      <div class="toast-icon">${r[t]||r.info}</div>
      <div class="toast-content">
        <div class="toast-message">${e}</div>
      </div>
      <button class="toast-close" aria-label="Close">Ã—</button>
    `,this.container.appendChild(s),s.querySelector(".toast-close").addEventListener("click",()=>{this.hide(s)}),a>0&&setTimeout(()=>this.hide(s),a),s}hide(e){e.classList.add("toast-hiding"),setTimeout(()=>e.remove(),300)}success(e,t){return this.show(e,"success",t)}error(e,t){return this.show(e,"error",t)}warning(e,t){return this.show(e,"warning",t)}info(e,t){return this.show(e,"info",t)}}class g{constructor(){this.attachListeners()}switchTab(e){const t=e.closest("[data-tabs]");if(!t)return;const a=e.dataset.tabTrigger,s=document.getElementById(a);s&&(t.querySelectorAll("[data-tab-trigger]").forEach(r=>{r.classList.remove("active"),r.setAttribute("aria-selected","false")}),e.classList.add("active"),e.setAttribute("aria-selected","true"),t.querySelectorAll('[role="tabpanel"]').forEach(r=>{r.classList.remove("active"),r.hidden=!0}),s.classList.add("active"),s.hidden=!1)}attachListeners(){document.addEventListener("click",e=>{const t=e.target.closest("[data-tab-trigger]");t&&(e.preventDefault(),this.switchTab(t))}),document.addEventListener("keydown",e=>{const t=e.target.closest("[data-tab-trigger]");if(!t)return;const a=t.parentElement,s=Array.from(a.querySelectorAll("[data-tab-trigger]")),r=s.indexOf(t);let o=r;if(e.key==="ArrowRight"||e.key==="ArrowDown")e.preventDefault(),o=(r+1)%s.length;else if(e.key==="ArrowLeft"||e.key==="ArrowUp")e.preventDefault(),o=(r-1+s.length)%s.length;else if(e.key==="Home")e.preventDefault(),o=0;else if(e.key==="End")e.preventDefault(),o=s.length-1;else return;s[o].focus(),this.switchTab(s[o])})}}class m{constructor(){this.drawer=document.querySelector(".filter-drawer"),this.attachListeners()}toggle(){var e;(e=this.drawer)==null||e.classList.toggle("filter-drawer-open")}close(){var e;(e=this.drawer)==null||e.classList.remove("filter-drawer-open")}attachListeners(){document.addEventListener("click",e=>{e.target.closest("[data-filter-toggle]")&&(e.preventDefault(),this.toggle()),e.target.closest("[data-filter-close]")&&(e.preventDefault(),this.close())})}}class f{constructor(){this.attachListeners()}validateField(e){const t=e.value.trim(),a=e.hasAttribute("required"),s=e.pattern,r=e.type;let o=!0,n="";return a&&!t?(o=!1,n="This field is required"):t&&s?new RegExp(s).test(t)||(o=!1,n=e.title||"Invalid format"):r==="email"&&t&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(o=!1,n="Invalid email address")),this.setFieldState(e,o,n),o}setFieldState(e,t,a){const s=e.closest(".form-group");if(!s)return;e.classList.toggle("is-invalid",!t),e.classList.toggle("is-valid",t&&e.value.trim());let r=s.querySelector(".form-error");!t&&a?(r||(r=document.createElement("span"),r.className="form-error",e.parentNode.appendChild(r)),r.textContent=a):r&&r.remove()}attachListeners(){document.addEventListener("blur",e=>{const t=e.target;t.matches("input, textarea, select")&&this.validateField(t)},!0),document.addEventListener("submit",e=>{const t=e.target;if(!t.matches("form"))return;let a=!0;if(t.querySelectorAll("input, textarea, select").forEach(s=>{this.validateField(s)||(a=!1)}),!a){e.preventDefault();const s=t.querySelector(".is-invalid");s==null||s.focus()}})}}document.addEventListener("DOMContentLoaded",()=>{window.theme=new c,window.sidebar=new d,window.modal=new h,window.toast=new u,window.tabs=new g,window.filterDrawer=new m,window.formValidator=new f,document.querySelectorAll(".flash-message").forEach(i=>{const e=i.dataset.type||"info",t=i.textContent.trim();window.toast.show(t,e),i.remove()})});window.showToast=(i,e,t)=>{var a;return(a=window.toast)==null?void 0:a.show(i,e,t)};window.openModal=i=>{var e;(e=window.modal)==null||e.open(i)};window.closeModal=()=>{var i;(i=window.modal)==null||i.close()};
