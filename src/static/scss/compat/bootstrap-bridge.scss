/**
 * Bootstrap Compatibility Bridge
 * Maps legacy Bootstrap classes to enterprise design system
 * Allows gradual migration without breaking existing templates
 */

@use '../tokens.scss' as *;

// Grid system bridge
.row {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-4);
  
  &.justify-content-center { justify-content: center; }
  &.align-items-center { align-items: center; }
}

.col,
[class*="col-"] {
  flex: 1 0 0%;
  min-width: 0;
}

.col-md-3 { flex: 0 0 calc(25% - var(--spacing-4)); }
.col-md-4 { flex: 0 0 calc(33.333% - var(--spacing-4)); }
.col-md-6 { flex: 0 0 calc(50% - var(--spacing-4)); }
.col-md-8 { flex: 0 0 calc(66.667% - var(--spacing-4)); }
.col-md-12 { flex: 0 0 100%; }

// Spacing utilities bridge
.mb-0 { margin-bottom: 0 !important; }
.mb-1 { margin-bottom: var(--spacing-1) !important; }
.mb-2 { margin-bottom: var(--spacing-2) !important; }
.mb-3 { margin-bottom: var(--spacing-3) !important; }
.mb-4 { margin-bottom: var(--spacing-4) !important; }
.mb-5 { margin-bottom: var(--spacing-6) !important; }

.mt-0 { margin-top: 0 !important; }
.mt-1 { margin-top: var(--spacing-1) !important; }
.mt-2 { margin-top: var(--spacing-2) !important; }
.mt-3 { margin-top: var(--spacing-3) !important; }
.mt-4 { margin-top: var(--spacing-4) !important; }
.mt-5 { margin-top: var(--spacing-6) !important; }

.me-1, .ms-1 { margin-inline: var(--spacing-1); }
.me-2, .ms-2 { margin-inline: var(--spacing-2); }
.me-3, .ms-3 { margin-inline: var(--spacing-3); }

.p-0 { padding: 0 !important; }
.py-2 { padding-block: var(--spacing-2) !important; }
.py-3 { padding-block: var(--spacing-3) !important; }
.py-5 { padding-block: var(--spacing-6) !important; }
.px-2 { padding-inline: var(--spacing-2) !important; }
.px-3 { padding-inline: var(--spacing-3) !important; }

// Display utilities
.d-flex { display: flex !important; }
.d-inline-block { display: inline-block !important; }
.d-block { display: block !important; }
.d-none { display: none !important; }

.flex-grow-1 { flex-grow: 1 !important; }
.flex-column { flex-direction: column !important; }
.align-items-start { align-items: flex-start !important; }
.align-items-center { align-items: center !important; }
.justify-content-between { justify-content: space-between !important; }
.justify-content-center { justify-content: center !important; }

.text-start { text-align: start !important; }
.text-center { text-align: center !important; }
.text-end { text-align: end !important; }
.text-md-end {
  @media (min-width: 768px) {
    text-align: end !important;
  }
}

// Typography
.text-muted { color: var(--color-text-muted) !important; }
.text-white { color: var(--color-text-inverse) !important; }
.text-white-50 { color: rgba(255, 255, 255, 0.5) !important; }
.text-danger { color: var(--color-error) !important; }
.text-warning { color: var(--color-warning) !important; }
.text-primary { color: var(--color-primary) !important; }
.text-success { color: var(--color-success) !important; }
.text-info { color: var(--color-info) !important; }

.fw-bold { font-weight: var(--font-weight-bold) !important; }
.fs-4 { font-size: var(--font-size-lg) !important; }
.fs-6 { font-size: var(--font-size-sm) !important; }

.small { font-size: var(--font-size-sm); }

// Sizing utilities
.w-100 { width: 100% !important; }
.h-100 { height: 100% !important; }

// Border utilities
.border { border: 1px solid var(--color-border) !important; }
.border-0 { border: none !important; }
.rounded-circle { border-radius: 50% !important; }

// Shadow utilities
.shadow-sm { box-shadow: var(--shadow-sm) !important; }

// Background utilities
.bg-primary { background-color: var(--color-primary) !important; color: white !important; }
.bg-secondary { background-color: var(--color-neutral-200) !important; }
.bg-success { background-color: var(--color-success) !important; color: white !important; }
.bg-danger { background-color: var(--color-error) !important; color: white !important; }
.bg-warning { background-color: var(--color-warning) !important; }
.bg-info { background-color: var(--color-info) !important; color: white !important; }
.bg-light { background-color: var(--color-neutral-50) !important; }
.bg-white { background-color: white !important; }

// List group bridge
.list-group { 
  list-style: none; 
  padding: 0;
  margin: 0;
}

.list-group-flush > .list-group-item { border-width: 0 0 1px; }

.list-group-item {
  position: relative;
  display: block;
  padding: var(--spacing-3);
  background-color: white;
  border: 1px solid var(--color-border);
  
  &:first-child { border-top-left-radius: var(--radius-md); border-top-right-radius: var(--radius-md); }
  &:last-child { border-bottom-left-radius: var(--radius-md); border-bottom-right-radius: var(--radius-md); }
  
  & + & { border-top-width: 0; }
}

.list-group-item-action {
  color: var(--color-text);
  text-decoration: none;
  
  &:hover,
  &:focus {
    background-color: var(--color-neutral-50);
    color: var(--color-text);
  }
}

.list-group-item-warning {
  background-color: var(--color-warning-light, #fff3cd);
  border-color: var(--color-warning);
}

// Alert bridge
.alert {
  padding: var(--spacing-3);
  margin-bottom: var(--spacing-4);
  border: 1px solid transparent;
  border-radius: var(--radius-md);
  
  &-heading { margin-bottom: var(--spacing-2); font-weight: var(--font-weight-semibold); }
}

.alert-info {
  background-color: var(--color-info-light, #cfe2ff);
  border-color: var(--color-info);
  color: var(--color-info-dark, #084298);
}

.alert-light {
  background-color: var(--color-neutral-50);
  border-color: var(--color-border);
  color: var(--color-text);
}

// Badge bridge (map bg- to badge-)
.badge {
  display: inline-flex;
  align-items: center;
  padding: var(--spacing-1) var(--spacing-2);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  line-height: 1;
  border-radius: var(--radius-full);
  
  &.bg-primary { background-color: var(--color-primary); color: white; }
  &.bg-secondary { background-color: var(--color-neutral-600); color: white; }
  &.bg-success { background-color: var(--color-success); color: white; }
  &.bg-danger { background-color: var(--color-error); color: white; }
  &.bg-warning { background-color: var(--color-warning); color: var(--color-text); }
  &.bg-info { background-color: var(--color-info); color: white; }
  
  &.rounded-pill { border-radius: 50rem; }
}

// Button sizing
.btn-sm {
  padding: var(--spacing-1) var(--spacing-3);
  font-size: var(--font-size-sm);
}

.btn-lg {
  padding: var(--spacing-3) var(--spacing-6);
  font-size: var(--font-size-lg);
}

.btn-link {
  background: none;
  border: none;
  color: var(--color-primary);
  text-decoration: none;
  padding: 0;
  
  &:hover { text-decoration: underline; }
}

.btn-outline-secondary {
  background-color: transparent;
  border-color: var(--color-border);
  color: var(--color-text);
  
  &:hover {
    background-color: var(--color-neutral-100);
    border-color: var(--color-neutral-300);
  }
}

// Form control bridge
.form-label { 
  display: block; 
  margin-bottom: var(--spacing-1); 
  font-weight: var(--font-weight-medium);
}

.form-text, .form-hint {
  display: block;
  margin-top: var(--spacing-1);
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}

.form-control {
  display: block;
  width: 100%;
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-base);
  line-height: 1.5;
  color: var(--color-text);
  background-color: white;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  
  &:focus {
    border-color: var(--color-primary);
    outline: 0;
    box-shadow: 0 0 0 3px var(--color-primary-alpha, rgba(99, 102, 241, 0.1));
  }
}

// Card bridge
.card {
  background-color: white;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  
  &-header {
    padding: var(--spacing-4);
    border-bottom: 1px solid var(--color-border);
    
    &.bg-primary { background-color: var(--color-primary); color: white; }
    &.bg-white { background-color: white; }
  }
  
  &-body {
    padding: var(--spacing-4);
    
    &.p-0 { padding: 0; }
  }
  
  &.border-0 { border: none; }
  &.bg-light { background-color: var(--color-neutral-50); }
}

// Modal/dropdown bridge
[data-bs-toggle], [data-bs-target] {
  cursor: pointer;
}
